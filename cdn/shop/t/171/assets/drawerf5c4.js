/*!
* Based on articles on
* https://gomakethings.com
*/var drwr=function(){Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(s){var el=this,ancestor=this;if(!document.documentElement.contains(el))return null;do{if(ancestor.matches(s))return ancestor;ancestor=ancestor.parentElement}while(ancestor!==null);return null});function trapFocus(element){var focusableEls=element.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),firstFocusableEl=focusableEls[0],lastFocusableEl=focusableEls[focusableEls.length-1],KEYCODE_TAB=9;element.addEventListener("keydown",function(e){var isTabPressed=e.key==="Tab"||e.keyCode===KEYCODE_TAB;isTabPressed&&(e.shiftKey?document.activeElement===firstFocusableEl&&(lastFocusableEl.focus(),e.preventDefault()):document.activeElement===lastFocusableEl&&(firstFocusableEl.focus(),e.preventDefault()))})}var settings={speedOpen:50,speedClose:350,activeClass:"is-active",visibleClass:"is-visible",selectorTarget:"[data-drwr-target]",selectorTrigger:"[data-drwr-trigger]",selectorClose:"[data-drwr-close]"},toggleAccessibility=function(event){event.getAttribute("aria-expanded")==="true"?event.setAttribute("aria-expanded",!1):event.setAttribute("aria-expanded",!0)},opendrwr=function(trigger){var target=document.getElementById(trigger.getAttribute("aria-controls"));target.classList.add(settings.activeClass),document.documentElement.style.overflow="hidden",toggleAccessibility(trigger),setTimeout(function(){target.classList.add(settings.visibleClass),trapFocus(target)},settings.speedOpen)},closedrwr=function(event){var closestParent=event.closest(settings.selectorTarget),childrenTrigger=document.querySelector('[aria-controls="'+closestParent.id+'"');closestParent.classList.remove(settings.visibleClass),document.documentElement.style.overflow="",toggleAccessibility(childrenTrigger),setTimeout(function(){closestParent.classList.remove(settings.activeClass)},settings.speedClose)},clickHandler=function(event){var toggle=event.target,open=toggle.closest(settings.selectorTrigger),close=toggle.closest(settings.selectorClose);open&&opendrwr(open),close&&closedrwr(close),(open||close)&&event.preventDefault()},keydownHandler=function(event){if(event.key==="Escape"||event.keyCode===27){var drwrs=document.querySelectorAll(settings.selectorTarget),i;for(i=0;i<drwrs.length;++i)drwrs[i].classList.contains(settings.activeClass)&&closedrwr(drwrs[i])}};document.addEventListener("click",clickHandler,!1),document.addEventListener("keydown",keydownHandler,!1),console.log("--> drwr started")};drwr();
//# sourceMappingURL=/cdn/shop/t/171/assets/drawer.js.map?v=21055085348234245111698983878
